WARNING: `heroku rake` has been deprecated. Please use `heroku run rake` instead.
Running `rake db:migrate` attached to terminal... up, run.4663
Migrating to PopulateUsers (20140311115608)
==  PopulateUsers: migrating ==================================================
WARNING: Can't mass-assign protected attributes for User: image

rake aborted!
An error has occurred, this and all later migrations canceled:

undefined local variable or method `auth_token' for #<User:0x007f2b78ebaa78>/app/vendor/bundle/ruby/2.0.0/gems/activemodel-4.0.3/lib/active_model/attribute_methods.rb:439:in `method_missing'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/attribute_methods.rb:155:in `method_missing'
/app/app/models/user.rb:123:in `set_auth_token'
/app/vendor/bundle/ruby/2.0.0/gems/activesupport-4.0.3/lib/active_support/callbacks.rb:377:in `_run__2824032313016300635__create__callbacks'
/app/vendor/bundle/ruby/2.0.0/gems/activesupport-4.0.3/lib/active_support/callbacks.rb:80:in `run_callbacks'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/callbacks.rb:306:in `create_record'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/timestamp.rb:57:in `create_record'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/persistence.rb:477:in `create_or_update'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/callbacks.rb:302:in `block in create_or_update'
/app/vendor/bundle/ruby/2.0.0/gems/activesupport-4.0.3/lib/active_support/callbacks.rb:393:in `_run__2824032313016300635__save__callbacks'
/app/vendor/bundle/ruby/2.0.0/gems/activesupport-4.0.3/lib/active_support/callbacks.rb:80:in `run_callbacks'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/callbacks.rb:302:in `create_or_update'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/persistence.rb:106:in `save'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/validations.rb:51:in `save'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/attribute_methods/dirty.rb:32:in `save'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:270:in `block (2 levels) in save'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:200:in `transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:209:in `transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:270:in `block in save'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:281:in `rollback_active_record_state!'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:269:in `save'
/app/db/migrate/20140311115608_populate_users.rb:15:in `change'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:571:in `exec_migration'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:555:in `block (2 levels) in migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:554:in `block in migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:294:in `with_connection'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:553:in `migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:709:in `migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:959:in `block in execute_migration_in_transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:1005:in `block in ddl_transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/transactions.rb:209:in `transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:1005:in `ddl_transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:958:in `execute_migration_in_transaction'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:920:in `block in migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:916:in `each'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:916:in `migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:764:in `up'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/migration.rb:742:in `migrate'
/app/vendor/bundle/ruby/2.0.0/gems/activerecord-4.0.3/lib/active_record/railties/databases.rake:42:in `block (2 levels) in <top (required)>'
Tasks: TOP => db:migrate
(See full trace by running task with --trace)
